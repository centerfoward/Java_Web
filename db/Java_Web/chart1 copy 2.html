<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, ininial-scale=1.o" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="style.css" rel="stylesheet" type="text/css" />
    <title>그래프 그리기</title>
    <div id="dataContainer"></div>
    <script src="data.json"></script>
    <script>
      var jsonData = null;
      var printCoreChart1 = null;
      var printCoreChart2 = null;
      var myChart2 = null;
      
      function coreChart1() {
        const minValues = jsonData.minValues;
        const maxValues = jsonData.maxValues;
        const avgValues = jsonData.avgValues;
    
        const coreData1 = {
          labels: ["taxt1", "taxt2", "taxt3", "taxt4", "taxt5"],
          datasets: [
            {
              label: "최대값",
              data: [maxValues[0], maxValues[1], maxValues[2], maxValues[3], maxValues[4]],
              backgroundColor: ["rgba(255, 99, 132, 0.2)"],
              borderColor: ["rgba(255, 99, 132, 1)"],
              borderWidth: 1,
            },
            {
              label: "최소값",
              data: [minValues[0], minValues[1], minValues[2], minValues[3], minValues[4]],
              backgroundColor: ["rgba(255, 159, 64, 0.2)"],
              borderColor: ["rgba(255, 159, 64, 1)"],
              borderWidth: 1,
            },
            {
              label: "평균값",
              data: [avgValues[0], avgValues[1], avgValues[2], avgValues[3], avgValues[4]],
              backgroundColor: ["rgba(255, 230, 102, 0.2)"],
              borderColor: ["rgba(255, 230, 102, 1)"],
              borderWidth: 1,
            },
          ],
        };
    
        const coreConfig1 = {
          type: "line",
          data: coreData1,
          options: {
            scales: {
              y: {
                beginAtZero: true,
              },
            },
          },
        };
    
        if (!printCoreChart1) {
          printCoreChart1 = new Chart(document.getElementById('core'), coreConfig1);
        }
      }

      function coreChart2() {
        
        const minValues = jsonData.minValues;
        const maxValues = jsonData.maxValues;
        const avgValues = jsonData.avgValues;
    
        const coreData2 = {
          labels: ["taxt1", "taxt2", "taxt3", "taxt4", "taxt5"],
          datasets: [
            {
              label: "최대값",
              data: [maxValues[5], maxValues[6], maxValues[7], maxValues[8], maxValues[9]],
              backgroundColor: ["rgba(255, 99, 132, 0.2)"],
              borderColor: ["rgba(255, 99, 132, 1)"],
              borderWidth: 1,
            },
            {
              label: "최소값",
              data: [minValues[5], minValues[6], minValues[7], minValues[8], minValues[9]],
              backgroundColor: ["rgba(255, 159, 64, 0.2)"],
              borderColor: ["rgba(255, 159, 64, 1)"],
              borderWidth: 1,
            },
            {
              label: "평균값",
              data: [avgValues[1], avgValues[2], avgValues[3], avgValues[4], avgValues[5]],
              backgroundColor: ["rgba(255, 230, 102, 0.2)"],
              borderColor: ["rgba(255, 230, 102, 1)"],
              borderWidth: 1,
            },
          ],
        };
    
        const coreConfig2 = {
          type: "line",
          data: coreData2,
          options: {
            scales: {
              y: {
                beginAtZero: true,
              },
            },
          },
        };
        if (!printCoreChart2) {
          printCoreChart2 = new Chart(document.getElementById('core'), coreConfig2);
        }
      }

     
      
      function fetchData() {
        fetch('data.json')
          .then(response => response.json())
          .then(data => {
            jsonData = data;
          })
          .catch(error => {
            console.error('JSON 파일 로드 중 오류 발생:', error);
          });
      }
    </script>

    <ul id="arrayList"></ul>
    <script type="module" src="app.js"></script>
   
    <script>
      function coreDisplay1() {
        var a = document.getElementById("core");
        var b = document.getElementById("task");
    
        if (a.style.display !== "block") {
          coreChart1();
          if (b.style.display === "block") {
            b.style.display = "none";
          }
          a.style.display = "block";
        } else {
          a.style.display = "none";
        }
      }
      function coreDisplay2() {
        var a = document.getElementById("core");
        var b = document.getElementById("task");
    
        if (a.style.display !== "block") {
          coreChart2();
          if (b.style.display === "block") {
            b.style.display = "none";
          }
          a.style.display = "block";
        } else {
          a.style.display = "none";
        }
      }


    
      function seeDisplay1() {
        var a = document.getElementById("core");
        var b = document.getElementById("task");
    
        if (b.style.display !== "block") {
          if (!myChart2) {
            myChart2 = new Chart(document.getElementById('task'), config2);
          }
          if (a.style.display === "block") {
            a.style.display = "none";
          }
          b.style.display = "block";
        } else {
          b.style.display = "none";
        }
      }
    </script>
  </head>

  <body>
    <canvas id="core" style="height: 13px; width: 40px"></canvas>

    <canvas id="task" style="height: 13px; width: 40px"></canvas>

    <div class="button">
      <button id="core1" class="core" onclick="coreDisplay1()">core1</button>
      <button id="core2" class="core" onclick="coreDisplay2()">core2</button>
      <button id="core3" class="core" onclick="seeDisplay()">core3</button>
      <button id="core4" class="core" onclick="seeDisplay()">core4</button>
      <button id="core5" class="core" onclick="seeDisplay()">core5</button>
      <button id="taks1" class="task" onclick="seeDisplay1()">task1</button>
      <button id="taks2" class="task" onclick="seeDisplay1()">task2</button>
      <button id="taks3" class="task" onclick="seeDisplay1()">task3</button>
      <button id="taks4" class="task" onclick="seeDisplay1()">task4</button>
      <button id="taks5" class="task" onclick="seeDisplay1()">task5</button>
    </div>

    <script>
      fetchData();
    </script>
  </body>
</html>
